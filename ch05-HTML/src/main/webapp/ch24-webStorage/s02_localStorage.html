<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>로컬스토리지</title>
    <script>
        window.onload=function(){
            //초기값 설정
            load_setting();

            let form = document.getElementById('frm');
            //이벤트 연결
            form.onsubmit=function(event){
                //기본 이벤트 제거
                event.preventDefault();
                save_setting();
            };

            //로컬에 저장된 스타일 불러오기
            function load_setting(){
                document.getElementById('bg_color').value = localStorage.getItem('bg_color');
                document.getElementById('text_color').value = localStorage.getItem('text_color');
                document.getElementById('text_size').value = localStorage.getItem('text_size');

                apply_data();
            };  

            //로컬에 스타일 저장하기
            function save_setting(){
                let bg_color = document.getElementById('bg_color');
                let text_color = document.getElementById('text_color');
                let text_size = document.getElementById('text_size');

                localStorage.setItem('bg_color',bg_color.value);
                localStorage.setItem('text_color',text_color.value);
                localStorage.setItem('text_size',text_size.value);

                apply_data();
            };

            //스타일 적용하기
            function apply_data(event){
                let bg_color = document.getElementById('bg_color');
                document.body.style.backgroundColor=bg_color.value;

                let text_color = document.getElementById('text_color');
                document.body.style.color=text_color.value;

                let text_size = document.getElementById('text_size');
                document.body.style.fontSize=text_size.value;
            };
        };

    </script>
</head>
<body>
<h2>환경 설정 값 기억</h2>
<form id="frm">
    <fieldset>
        <legend>색상/글자 크기 선택</legend>
        <ul>
            <li>
                <label for="bg_color">배경색</label>
                <input type="text" name="bg_color" id="bg_color">
            </li>
            <li>
                <label for="text_color">글자색</label>
                <input type="text" name="text_color" id="text_color">
            </li>
            <li>
                <label for="text_size">글자크기</label>
                <select name="text_size" id="text_size">
                    <option value="16px">16px</option>
                    <option value="20px">20px</option>
                    <option value="24px">24px</option>
                </select>
            </li>
        </ul>
        <input type="submit" value="저장">
    </fieldset>
</form>
</body>
</html>